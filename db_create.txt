CREATE TABLE IF NOT EXISTS USER(
	ID INT UNSIGNED NOT NULL AUTO_INCREMENT,
	FIRST_NAME VARCHAR(45)  NOT NULL,
	LAST_NAME VARCHAR(45)  NOT NULL,
	BIRTH_DATE date  NOT NULL,
	PASSPORT VARCHAR(100)  NOT NULL,
	ADDRESS VARCHAR(100)  NOT NULL,
	EMAIL VARCHAR(100)  NULL,
	PASSWORD VARCHAR(45)  NOT NULL, 
	PRIMARY KEY (`ID`), UNIQUE INDEX `User_email_unique` (`EMAIL`)
	);

CREATE TABLE IF NOT EXISTS TARIFF(
	ID INT UNSIGNED NOT NULL AUTO_INCREMENT,
	NAME VARCHAR(45)  NOT NULL,
	PRICE double  NOT NULL,
	INFO VARCHAR(100)  NOT NULL,
	PIC VARCHAR(100)  NULL,
	 PRIMARY KEY (`ID`));

CREATE TABLE IF NOT EXISTS CONTRACT(
	ID INT UNSIGNED NOT NULL AUTO_INCREMENT,
	USER_ID INT UNSIGNED NOT NULL,
	TARIFF_ID INT UNSIGNED NOT NULL,
	PHONE_NUMBER VARCHAR(45)  NOT NULL,
	 PRIMARY KEY (`ID`), 
	 INDEX `CONTRACT_USER_ID_foreign` (`USER_ID`), CONSTRAINT `CONTRACT_USER_ID_foreign` FOREIGN KEY (`USER_ID`) REFERENCES `USER` (`ID`), 
	 INDEX `CONTRACT_TARIFF_ID_foreign` (`TARIFF_ID`), CONSTRAINT `CONTRACT_TARIFF_ID_foreign` FOREIGN KEY (`TARIFF_ID`) REFERENCES `TARIFF` (`ID`), 
	 UNIQUE INDEX `CONTRACT_PHONE_NUMBER_unique` (`PHONE_NUMBER`));


INSERT INTO USER (FIRST_NAME, LAST_NAME, BIRTH_DATE, PASSPORT, ADDRESS, EMAIL, PASSWORD) 
VALUES ('Fedor', 'Bilev', '1996-03-16', '1234567', 'Russia, Spb', 'bilev.f@gmail.com', 'root');